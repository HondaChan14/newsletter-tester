---
      import dotenv from 'dotenv';
      import mailchimp from '@mailchimp/mailchimp_marketing';
      dotenv.config();
  
      mailchimp.setConfig({
        apiKey: process.env.API_KEY,
        server: process.env.SERVER_PREFIX,
      });
  
      async function connectToMailchimp() {
        try {
          const response = await mailchimp.ping.get();
          console.log(response);
        } catch (error) {
          console.error(error);
        }
      }
  
      connectToMailchimp();
---
  <astro-newsletter>
    <h2>Subscribe to our newsletter</h2>
    <form id="subscribe-form">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
  
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
  
      <button type="submit">Subscribe</button>
    </form>
  
    <p>Not interested? <a href="#">No thanks</a></p>
    <p>Don't have an account? <a href="#">Sign up</a></p>
  
  </astro-newsletter>
  